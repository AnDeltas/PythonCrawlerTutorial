
# cookie & session

[toc]

## cookie
> 打开京东, 不登录, 加入购物车, 关闭网页, 再次登录京东, 购物车内的东西还在, 这是什么原因呢? 换一台电脑或者用另一个浏览器,购物车内的东西还在吗?

​	如果你尝试了上述步骤, 就会明白, 有某些东西, 被存储在本地,  让你仍然能看到之前加入购物车内的商品.

​	HTTP是一种无状态协议[^1], cookie的存在就弥补了这种无状态协议的一种不足.

​	cookie由服务器生成, 由若干键值对构成, 存放在客户端, 只要cookie没有被清空或者已经失效, 保存在cookie中的会话信息就是有效的. cookie会包含在第一次客户端请求的响应头中, 当下一次进行同类请求[^2]时, 就能使用上一次保留[^3]下来的cookie, 而不必由用户进行重复的操作了. 

​	不同的浏览器存放cookie的方式和地址都不同. 在chrome中, 可以通过 设置 -> 网站设置 -> cookie 和网站数据这个路径查看, 以后可能会有所改变, 但应该都差不多.

[^1]: 服务器不知道客户端接下来会做什么, 甚至不知道会不会有下一次请求, 在这样的状况下, 一直保持tcp链接无异是一种很大的资源浪费.
[^2]: 资源路径相同的请求(不是url), 也有可能是由服务端设定好的路径.
[^3]: 保留的位置由服务器决定, 可能是浏览器的缓存, 也可能是硬盘, cookie的有效期也由也是由服务器决定的. 像有些网页登录时会有选项可以七天内登录不需要密码之类的, cookie的有效期就是七天. 

